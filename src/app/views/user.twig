{% extends 'base.twig' %}

{% block body %}
    <h1>User</h1>
{% if user is defined %}
    <form action="/user?id={{ user.id }}" method="post" id="userForm">
        <div class="form-group row">
            <label for="inputEmail" class="col-sm-1 col-form-label">Email</label>
            <div class="col-sm-10">
                <input type="email" class="form-control {{ errors['email'] is defined and errors['email'] is not empty ? 'is-invalid' : '' }}" id="inputEmail" name="email" value="{{ user.email }}" autocomplete="off">
                <div class="invalid-feedback" id="invalid-email">
                    {{ errors['email'] ?? '' }}
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputName" class="col-sm-1 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control {{ errors['name'] is defined and errors['name'] is not empty ? 'is-invalid' : '' }}" id="inputName" name="name" value="{{ user.name }}" autocomplete="off">
                <div class="invalid-feedback" id="invalid-name">
                    {{ errors['name'] ?? '' }}
                </div>
            </div>
        </div>

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <label class="input-group-text" for="inputGender">Gender</label>
            </div>
            <select class="custom-select {{ errors['gender'] is defined and errors['gender'] is not empty ? 'is-invalid' : '' }}" id="inputGender" name="gender">
                <option value="male" {{ user.gender is same as('male') ? 'selected' : '' }} >Male</option>
                <option value="female" {{ user.gender is same as('female') ? 'selected' : '' }} >Female</option>
            </select>
            <div class="invalid-feedback" id="invalid-gender">
                {{ errors['gender'] ?? '' }}
            </div>
        </div>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <label class="input-group-text" for="inputStatus">Status</label>
            </div>
            <select class="custom-select {{ errors['status'] is defined and errors['status'] is not empty ? 'is-invalid' : '' }}" id="inputStatus" name="status">
                <option value="active" {{ user.status is same as('active') ? 'selected' : '' }} >Active</option>
                <option value="inactive" {{ user.status is same as('inactive') ? 'selected' : '' }} >Inactive</option>
            </select>
            <div class="invalid-feedback" id="invalid-status">
                {{ errors['status'] ?? '' }}
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary">Edit</button>
            </div>
        </div>
    </form>
{% else %}
    <p>User wasn't found</p>
{% endif %}
{% endblock %}
{% block scripts %}
    <script type="text/javascript" src="static/js/form.js"></script>
{% endblock %}